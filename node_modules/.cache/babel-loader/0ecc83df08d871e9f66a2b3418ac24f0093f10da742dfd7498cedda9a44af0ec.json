{"ast":null,"code":"import React,{useEffect,useState}from'react';import{getOCRResults,getSalesData}from'../api/ocr';import'./AdminPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AdminPage(){const[ocrResults,setOcrResults]=useState([]);const[salesData,setSalesData]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{async function fetchData(){try{setLoading(true);const[ocrRes,salesRes]=await Promise.all([getOCRResults(),getSalesData()]);setOcrResults(ocrRes.data);setSalesData(salesRes.data);}catch(err){setError('데이터를 불러오는 중 오류가 발생했습니다.');}finally{setLoading(false);}}fetchData();},[]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529 \\uC911...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{children:error});return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-page\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uAD00\\uB9AC\\uC790 \\uB300\\uC2DC\\uBCF4\\uB4DC\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"sales-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB9E4\\uCD9C \\uD604\\uD669\"}),salesData?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uCD1D \\uB9E4\\uCD9C: \",salesData.totalSales,\" \\uC6D0\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC8FC\\uBB38 \\uAC74\\uC218: \",salesData.orderCount,\" \\uAC74\"]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"\\uB9E4\\uCD9C \\uB370\\uC774\\uD130\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"ocr-results-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"OCR \\uACB0\\uACFC \\uBAA9\\uB85D\"}),ocrResults.length>0?/*#__PURE__*/_jsx(\"ul\",{className:\"ocr-results-list\",children:ocrResults.map(item=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uC774\\uBBF8\\uC9C0\\uBA85: \",item.imageName]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uACB0\\uACFC: \",item.text]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uCC98\\uB9AC\\uC77C: \",new Date(item.processedAt).toLocaleString()]})]},item.id))}):/*#__PURE__*/_jsx(\"p\",{children:\"OCR \\uACB0\\uACFC\\uAC00 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"})]})]});}export default AdminPage;","map":{"version":3,"names":["React","useEffect","useState","getOCRResults","getSalesData","jsx","_jsx","jsxs","_jsxs","AdminPage","ocrResults","setOcrResults","salesData","setSalesData","loading","setLoading","error","setError","fetchData","ocrRes","salesRes","Promise","all","data","err","children","className","totalSales","orderCount","length","map","item","imageName","text","Date","processedAt","toLocaleString","id"],"sources":["C:/monami-client/src/pages/AdminPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getOCRResults, getSalesData } from '../api/ocr';\r\nimport './AdminPage.css';\r\n\r\nfunction AdminPage() {\r\n  const [ocrResults, setOcrResults] = useState([]);\r\n  const [salesData, setSalesData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        setLoading(true);\r\n        const [ocrRes, salesRes] = await Promise.all([\r\n          getOCRResults(),\r\n          getSalesData()\r\n        ]);\r\n        setOcrResults(ocrRes.data);\r\n        setSalesData(salesRes.data);\r\n      } catch (err) {\r\n        setError('데이터를 불러오는 중 오류가 발생했습니다.');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  if (loading) return <div>로딩 중...</div>;\r\n  if (error) return <div>{error}</div>;\r\n\r\n  return (\r\n    <div className=\"admin-page\">\r\n      <h2>관리자 대시보드</h2>\r\n\r\n      <section className=\"sales-section\">\r\n        <h3>매출 현황</h3>\r\n        {salesData ? (\r\n          <div>\r\n            <p>총 매출: {salesData.totalSales} 원</p>\r\n            <p>주문 건수: {salesData.orderCount} 건</p>\r\n            {/* 필요시 더 상세 내역 추가 */}\r\n          </div>\r\n        ) : (\r\n          <p>매출 데이터가 없습니다.</p>\r\n        )}\r\n      </section>\r\n\r\n      <section className=\"ocr-results-section\">\r\n        <h3>OCR 결과 목록</h3>\r\n        {ocrResults.length > 0 ? (\r\n          <ul className=\"ocr-results-list\">\r\n            {ocrResults.map(item => (\r\n              <li key={item.id}>\r\n                <p>이미지명: {item.imageName}</p>\r\n                <p>결과: {item.text}</p>\r\n                <p>처리일: {new Date(item.processedAt).toLocaleString()}</p>\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        ) : (\r\n          <p>OCR 결과가 없습니다.</p>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AdminPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}