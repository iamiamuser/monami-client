{"ast":null,"code":"import axiosInstance from'./axiosInstance';const AUTH_BASE='/auth';export const login=async(email,password)=>{try{// 서버로 로그인 요청 보내기\nconst response=await axiosInstance.post(\"\".concat(AUTH_BASE,\"/login\"),{email,password});// 서버에서 성공적으로 반환한 데이터 처리\nif(response.data&&response.data.token&&response.data.user){const{token,user}=response.data;// 로그인 성공 시 token을 localStorage에 저장\nlocalStorage.setItem('token',token);return user;// 로그인한 사용자 정보 반환\n}else{throw new Error('로그인 실패: 서버 응답 형식이 잘못되었습니다.');}}catch(error){// 로그인 실패 시 에러 처리\nconsole.error('Login error:',error);throw new Error(error.response?error.response.data:'서버와의 연결에 실패했습니다.');}};export const register=async userData=>{try{const response=await axiosInstance.post(\"\".concat(AUTH_BASE,\"/register\"),userData);return response.data;}catch(error){throw new Error(error.response?error.response.data:'회원가입 중 오류가 발생했습니다.');}};export const logout=()=>{// 로그아웃 시 localStorage에서 token 삭제\nlocalStorage.removeItem('token');};export const getCurrentUser=async()=>{try{const response=await axiosInstance.get(\"\".concat(AUTH_BASE,\"/me\"));return response.data;}catch(error){throw new Error('사용자 정보를 불러오는 중 오류가 발생했습니다.');}};","map":{"version":3,"names":["axiosInstance","AUTH_BASE","login","email","password","response","post","concat","data","token","user","localStorage","setItem","Error","error","console","register","userData","logout","removeItem","getCurrentUser","get"],"sources":["C:/monami-client/src/api/auth.js"],"sourcesContent":["import axiosInstance from './axiosInstance';\r\n\r\nconst AUTH_BASE = '/auth';\r\n\r\nexport const login = async (email, password) => {\r\n  try {\r\n    // 서버로 로그인 요청 보내기\r\n    const response = await axiosInstance.post(`${AUTH_BASE}/login`, { email, password });\r\n\r\n    // 서버에서 성공적으로 반환한 데이터 처리\r\n    if (response.data && response.data.token && response.data.user) {\r\n      const { token, user } = response.data;\r\n      \r\n      // 로그인 성공 시 token을 localStorage에 저장\r\n      localStorage.setItem('token', token);\r\n\r\n      return user;  // 로그인한 사용자 정보 반환\r\n    } else {\r\n      throw new Error('로그인 실패: 서버 응답 형식이 잘못되었습니다.');\r\n    }\r\n  } catch (error) {\r\n    // 로그인 실패 시 에러 처리\r\n    console.error('Login error:', error);\r\n    throw new Error(error.response ? error.response.data : '서버와의 연결에 실패했습니다.');\r\n  }\r\n};\r\n\r\nexport const register = async (userData) => {\r\n  try {\r\n    const response = await axiosInstance.post(`${AUTH_BASE}/register`, userData);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error(error.response ? error.response.data : '회원가입 중 오류가 발생했습니다.');\r\n  }\r\n};\r\n\r\nexport const logout = () => {\r\n  // 로그아웃 시 localStorage에서 token 삭제\r\n  localStorage.removeItem('token');\r\n};\r\n\r\nexport const getCurrentUser = async () => {\r\n  try {\r\n    const response = await axiosInstance.get(`${AUTH_BASE}/me`);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error('사용자 정보를 불러오는 중 오류가 발생했습니다.');\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAO,CAAAA,aAAa,KAAM,iBAAiB,CAE3C,KAAM,CAAAC,SAAS,CAAG,OAAO,CAEzB,MAAO,MAAM,CAAAC,KAAK,CAAG,KAAAA,CAAOC,KAAK,CAAEC,QAAQ,GAAK,CAC9C,GAAI,CACF;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAL,aAAa,CAACM,IAAI,IAAAC,MAAA,CAAIN,SAAS,WAAU,CAAEE,KAAK,CAAEC,QAAS,CAAC,CAAC,CAEpF;AACA,GAAIC,QAAQ,CAACG,IAAI,EAAIH,QAAQ,CAACG,IAAI,CAACC,KAAK,EAAIJ,QAAQ,CAACG,IAAI,CAACE,IAAI,CAAE,CAC9D,KAAM,CAAED,KAAK,CAAEC,IAAK,CAAC,CAAGL,QAAQ,CAACG,IAAI,CAErC;AACAG,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEH,KAAK,CAAC,CAEpC,MAAO,CAAAC,IAAI,CAAG;AAChB,CAAC,IAAM,CACL,KAAM,IAAI,CAAAG,KAAK,CAAC,4BAA4B,CAAC,CAC/C,CACF,CAAE,MAAOC,KAAK,CAAE,CACd;AACAC,OAAO,CAACD,KAAK,CAAC,cAAc,CAAEA,KAAK,CAAC,CACpC,KAAM,IAAI,CAAAD,KAAK,CAACC,KAAK,CAACT,QAAQ,CAAGS,KAAK,CAACT,QAAQ,CAACG,IAAI,CAAG,kBAAkB,CAAC,CAC5E,CACF,CAAC,CAED,MAAO,MAAM,CAAAQ,QAAQ,CAAG,KAAO,CAAAC,QAAQ,EAAK,CAC1C,GAAI,CACF,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAAL,aAAa,CAACM,IAAI,IAAAC,MAAA,CAAIN,SAAS,cAAagB,QAAQ,CAAC,CAC5E,MAAO,CAAAZ,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOM,KAAK,CAAE,CACd,KAAM,IAAI,CAAAD,KAAK,CAACC,KAAK,CAACT,QAAQ,CAAGS,KAAK,CAACT,QAAQ,CAACG,IAAI,CAAG,oBAAoB,CAAC,CAC9E,CACF,CAAC,CAED,MAAO,MAAM,CAAAU,MAAM,CAAGA,CAAA,GAAM,CAC1B;AACAP,YAAY,CAACQ,UAAU,CAAC,OAAO,CAAC,CAClC,CAAC,CAED,MAAO,MAAM,CAAAC,cAAc,CAAG,KAAAA,CAAA,GAAY,CACxC,GAAI,CACF,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAL,aAAa,CAACqB,GAAG,IAAAd,MAAA,CAAIN,SAAS,OAAK,CAAC,CAC3D,MAAO,CAAAI,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOM,KAAK,CAAE,CACd,KAAM,IAAI,CAAAD,KAAK,CAAC,4BAA4B,CAAC,CAC/C,CACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}