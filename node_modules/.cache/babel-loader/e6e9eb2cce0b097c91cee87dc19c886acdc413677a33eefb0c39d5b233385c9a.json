{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useLocation}from'react-router-dom';import ProductCard from'../components/ProductCard';import'./HomePage.css';import{fetchProducts}from'../api/products';import{jsx as _jsx}from\"react/jsx-runtime\";function useQuery(){return new URLSearchParams(useLocation().search);}function HomePage(){const location=useLocation();// 여기서 location 받아옴\nconst query=useQuery();const category=query.get('category');// 쿼리에서 카테고리 추출\nconst[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);useEffect(()=>{setLoading(true);fetchProducts(category).then(data=>setProducts(data)).catch(()=>setProducts([])).finally(()=>setLoading(false));},[category,location.search]);// location.search도 의존성에 넣기\nif(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"\\uC0C1\\uD488\\uC744 \\uBD88\\uB7EC\\uC624\\uB294 \\uC911\\uC785\\uB2C8\\uB2E4...\"});if(products.length===0)return/*#__PURE__*/_jsx(\"p\",{children:\"\\uD574\\uB2F9 \\uCE74\\uD14C\\uACE0\\uB9AC\\uC758 \\uC0C1\\uD488\\uC774 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\"});return/*#__PURE__*/_jsx(\"div\",{className:\"products-container\",children:products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product.id))});}export default HomePage;","map":{"version":3,"names":["React","useEffect","useState","useLocation","ProductCard","fetchProducts","jsx","_jsx","useQuery","URLSearchParams","search","HomePage","location","query","category","get","products","setProducts","loading","setLoading","then","data","catch","finally","children","length","className","map","product","id"],"sources":["C:/monami-client/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport ProductCard from '../components/ProductCard';\r\nimport './HomePage.css';\r\nimport { fetchProducts } from '../api/products';\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nfunction HomePage() {\r\n  const location = useLocation();  // 여기서 location 받아옴\r\n  const query = useQuery();\r\n  const category = query.get('category');  // 쿼리에서 카테고리 추출\r\n\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    fetchProducts(category)\r\n      .then(data => setProducts(data))\r\n      .catch(() => setProducts([]))\r\n      .finally(() => setLoading(false));\r\n  }, [category, location.search]);  // location.search도 의존성에 넣기\r\n\r\n  if (loading) return <p>상품을 불러오는 중입니다...</p>;\r\n  if (products.length === 0) return <p>해당 카테고리의 상품이 없습니다.</p>;\r\n\r\n  return (\r\n    <div className=\"products-container\">\r\n      {products.map(product => (\r\n        <ProductCard key={product.id} product={product} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomePage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,gBAAgB,CACvB,OAASC,aAAa,KAAQ,iBAAiB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhD,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,MAAO,IAAI,CAAAC,eAAe,CAACN,WAAW,CAAC,CAAC,CAACO,MAAM,CAAC,CAClD,CAEA,QAAS,CAAAC,QAAQA,CAAA,CAAG,CAClB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAAG;AACjC,KAAM,CAAAU,KAAK,CAAGL,QAAQ,CAAC,CAAC,CACxB,KAAM,CAAAM,QAAQ,CAAGD,KAAK,CAACE,GAAG,CAAC,UAAU,CAAC,CAAG;AAEzC,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACdkB,UAAU,CAAC,IAAI,CAAC,CAChBd,aAAa,CAACS,QAAQ,CAAC,CACpBM,IAAI,CAACC,IAAI,EAAIJ,WAAW,CAACI,IAAI,CAAC,CAAC,CAC/BC,KAAK,CAAC,IAAML,WAAW,CAAC,EAAE,CAAC,CAAC,CAC5BM,OAAO,CAAC,IAAMJ,UAAU,CAAC,KAAK,CAAC,CAAC,CACrC,CAAC,CAAE,CAACL,QAAQ,CAAEF,QAAQ,CAACF,MAAM,CAAC,CAAC,CAAG;AAElC,GAAIQ,OAAO,CAAE,mBAAOX,IAAA,MAAAiB,QAAA,CAAG,yEAAgB,CAAG,CAAC,CAC3C,GAAIR,QAAQ,CAACS,MAAM,GAAK,CAAC,CAAE,mBAAOlB,IAAA,MAAAiB,QAAA,CAAG,0FAAkB,CAAG,CAAC,CAE3D,mBACEjB,IAAA,QAAKmB,SAAS,CAAC,oBAAoB,CAAAF,QAAA,CAChCR,QAAQ,CAACW,GAAG,CAACC,OAAO,eACnBrB,IAAA,CAACH,WAAW,EAAkBwB,OAAO,CAAEA,OAAQ,EAA7BA,OAAO,CAACC,EAAuB,CAClD,CAAC,CACC,CAAC,CAEV,CAEA,cAAe,CAAAlB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}