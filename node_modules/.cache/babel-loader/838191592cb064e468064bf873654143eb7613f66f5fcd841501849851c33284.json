{"ast":null,"code":"var _jsxFileName = \"C:\\\\monami-client\\\\src\\\\pages\\\\AdminLoginPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext, useEffect } from 'react';\nimport { loginAdmin } from '../api/auth'; // ✅ 관리자 로그인 함수\nimport { validateEmail, validatePassword } from '../utils/validation';\nimport { AuthContext } from '../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport './AdminLoginPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminLoginPage = () => {\n  _s();\n  const {\n    setUser\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  // 새로 고침 시 로그인 상태를 확인해서 자동 로그인 처리\n  useEffect(() => {\n    const savedUser = localStorage.getItem('user');\n    if (savedUser) {\n      setUser(JSON.parse(savedUser)); // 로컬 스토리지에서 유저 정보 가져오기\n      navigate('/admin/dashboard-summary'); // 자동으로 대시보드로 리디렉션\n    }\n  }, [navigate, setUser]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const formattedEmail = email.trim().toLowerCase();\n    if (!validateEmail(formattedEmail)) {\n      setError('유효한 이메일을 입력하세요.');\n      return;\n    }\n    if (!validatePassword(password)) {\n      setError('비밀번호는 6자 이상이어야 합니다.');\n      return;\n    }\n    try {\n      const {\n        user\n      } = await loginAdmin({\n        email: formattedEmail,\n        password\n      });\n\n      // 로그인 성공 시 user 정보와 token을 로컬 스토리지에 저장\n      localStorage.setItem('user', JSON.stringify(user));\n      localStorage.setItem('token', user.token); // 토큰도 저장 (필요시)\n\n      setUser(user); // AuthContext에 사용자 정보 설정\n      navigate('/admin/dashboard-summary'); // 대시보드로 리디렉션\n    } catch (err) {\n      setError(err.message || '로그인 실패: 이메일과 비밀번호를 확인하세요.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uAD00\\uB9AC\\uC790 \\uB85C\\uADF8\\uC778\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"\\uC774\\uBA54\\uC77C\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminLoginPage, \"9duCkfEC42h+fdzT7Npl5rn1vpk=\", false, function () {\n  return [useNavigate];\n});\n_c = AdminLoginPage;\nexport default AdminLoginPage;\nvar _c;\n$RefreshReg$(_c, \"AdminLoginPage\");","map":{"version":3,"names":["React","useState","useContext","useEffect","loginAdmin","validateEmail","validatePassword","AuthContext","useNavigate","jsxDEV","_jsxDEV","AdminLoginPage","_s","setUser","navigate","email","setEmail","password","setPassword","error","setError","savedUser","localStorage","getItem","JSON","parse","handleSubmit","e","preventDefault","formattedEmail","trim","toLowerCase","user","setItem","stringify","token","err","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","required","_c","$RefreshReg$"],"sources":["C:/monami-client/src/pages/AdminLoginPage.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { loginAdmin } from '../api/auth'; // ✅ 관리자 로그인 함수\r\nimport { validateEmail, validatePassword } from '../utils/validation';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './AdminLoginPage.css';\r\n\r\nconst AdminLoginPage = () => {\r\n  const { setUser } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  // 새로 고침 시 로그인 상태를 확인해서 자동 로그인 처리\r\n  useEffect(() => {\r\n    const savedUser = localStorage.getItem('user');\r\n    if (savedUser) {\r\n      setUser(JSON.parse(savedUser)); // 로컬 스토리지에서 유저 정보 가져오기\r\n      navigate('/admin/dashboard-summary'); // 자동으로 대시보드로 리디렉션\r\n    }\r\n  }, [navigate, setUser]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const formattedEmail = email.trim().toLowerCase();\r\n\r\n    if (!validateEmail(formattedEmail)) {\r\n      setError('유효한 이메일을 입력하세요.');\r\n      return;\r\n    }\r\n\r\n    if (!validatePassword(password)) {\r\n      setError('비밀번호는 6자 이상이어야 합니다.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { user } = await loginAdmin({ email: formattedEmail, password });\r\n\r\n      // 로그인 성공 시 user 정보와 token을 로컬 스토리지에 저장\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      localStorage.setItem('token', user.token); // 토큰도 저장 (필요시)\r\n\r\n      setUser(user); // AuthContext에 사용자 정보 설정\r\n      navigate('/admin/dashboard-summary'); // 대시보드로 리디렉션\r\n    } catch (err) {\r\n      setError(err.message || '로그인 실패: 이메일과 비밀번호를 확인하세요.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-page-container\">\r\n      <h2>관리자 로그인</h2>\r\n      <form onSubmit={handleSubmit} className=\"login-form\">\r\n        <input\r\n          type=\"email\"\r\n          placeholder=\"이메일\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n          required\r\n        />\r\n        <input\r\n          type=\"password\"\r\n          placeholder=\"비밀번호\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n          required\r\n        />\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n        <button type=\"submit\">로그인</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLoginPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}